{"version":3,"file":"DR_nqobW.js","sources":["../../../../../../../pages/auth/github/callback.vue"],"sourcesContent":["<template>\n  <div class=\"oauth-callback\">\n    <div v-if=\"loading\" class=\"loading\">\n      <h2>Authenticating with GitHub...</h2>\n      <p>Please wait while we complete the login process.</p>\n    </div>\n    <div v-else-if=\"error\" class=\"error\">\n      <h2>Authentication Failed</h2>\n      <p>{{ error }}</p>\n      <button @click=\"closeWindow\">Close Window</button>\n    </div>\n    <div v-else class=\"success\">\n      <h2>Authentication Successful!</h2>\n      <p>You can now close this window.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loading: true,\n      error: null\n    }\n  },\n  \n  async mounted() {\n    try {\n      // Get the authorization code from URL params\n      const urlParams = new URLSearchParams(window.location.search);\n      const code = urlParams.get('code');\n      const state = urlParams.get('state');\n      \n      if (!code) {\n        throw new Error('No authorization code received');\n      }\n      \n      // Verify state to prevent CSRF attacks\n      const savedState = sessionStorage.getItem('github_oauth_state');\n      if (state !== savedState) {\n        throw new Error('Invalid state parameter');\n      }\n      \n      // Exchange code for token\n      // Note: This should be done through your backend to keep the client secret secure\n      // For now, we'll send a message back to the parent window with the code\n      // and let the parent handle the token exchange through a backend API\n      \n      // Send success message to parent window\n      if (window.opener) {\n        // In a real implementation, you would exchange the code for a token here\n        // through your backend API, then send the token to the parent\n        window.opener.postMessage({\n          type: 'github-oauth-success',\n          code: code // In production, send the actual token here\n        }, window.location.origin);\n        \n        // Close window after a short delay\n        setTimeout(() => {\n          window.close();\n        }, 2000);\n      }\n      \n      this.loading = false;\n    } catch (error) {\n      this.error = error.message;\n      this.loading = false;\n      \n      // Send error message to parent window\n      if (window.opener) {\n        window.opener.postMessage({\n          type: 'github-oauth-error',\n          error: error.message\n        }, window.location.origin);\n      }\n    }\n  },\n  \n  methods: {\n    closeWindow() {\n      window.close();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.oauth-callback {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding: 2rem;\n  text-align: center;\n}\n\n.loading, .error, .success {\n  max-width: 400px;\n}\n\n.error {\n  color: #dc3545;\n}\n\n.success {\n  color: #28a745;\n}\n\nbutton {\n  margin-top: 1rem;\n  padding: 0.5rem 1rem;\n  background: #0366d6;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background: #0256c7;\n}\n</style>"],"names":["_sfc_main","urlParams","code","state","savedState","error","_hoisted_1","_openBlock","_createElementBlock","$data","_hoisted_2","_cache","_createElementVNode","_hoisted_3","$options","args","_hoisted_4"],"mappings":"8DAmBA,MAAKA,EAAU,CACb,MAAO,CACL,MAAO,CACL,QAAS,GACT,MAAO,IACT,CACF,EAEA,MAAM,SAAU,CACd,GAAI,CAEF,MAAMC,EAAY,IAAI,gBAAgB,OAAO,SAAS,MAAM,EACtDC,EAAOD,EAAU,IAAI,MAAM,EAC3BE,EAAQF,EAAU,IAAI,OAAO,EAEnC,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,gCAAgC,EAIlD,MAAME,EAAa,eAAe,QAAQ,oBAAoB,EAC9D,GAAID,IAAUC,EACZ,MAAM,IAAI,MAAM,yBAAyB,EASvC,OAAO,SAGT,OAAO,OAAO,YAAY,CACxB,KAAM,uBACN,KAAMF,GACL,OAAO,SAAS,MAAM,EAGzB,WAAW,IAAM,CACf,OAAO,MAAK,CACd,EAAG,GAAI,GAGT,KAAK,QAAU,EACjB,OAASG,EAAO,CACd,KAAK,MAAQA,EAAM,QACnB,KAAK,QAAU,GAGX,OAAO,QACT,OAAO,OAAO,YAAY,CACxB,KAAM,qBACN,MAAOA,EAAM,SACZ,OAAO,SAAS,MAAM,CAE7B,CACF,EAEA,QAAS,CACP,aAAc,CACZ,OAAO,MAAK,CACd,CACF,CACF,EAnFOC,EAAA,CAAA,MAAM,gBAAgB,WACL,MAAM,oBAIH,MAAM,kBAKjB,MAAM,mCAVpB,OAAAC,EAAA,EAAAC,EAcM,MAdNF,EAcM,CAbOG,EAAA,SAAXF,EAAA,EAAAC,EAGM,MAHNE,EAGMC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFJC,EAAsC,UAAlC,gCAA6B,EAAA,EACjCA,EAAuD,SAApD,mDAAgD,EAAA,MAErCH,EAAA,OAAhBF,IAAAC,EAIM,MAJNK,EAIM,CAHJF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAA8B,UAA1B,wBAAqB,EAAA,GACzBA,EAAkB,WAAZH,EAAA,KAAK,EAAA,CAAA,EACXG,EAAkD,SAAA,CAAzC,4BAAOE,EAAA,aAAAA,EAAA,YAAA,GAAAC,CAAA,IAAa,cAAY,MAE3CR,EAAA,EAAAC,EAGM,MAHNQ,EAGML,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFJC,EAAmC,UAA/B,6BAA0B,EAAA,EAC9BA,EAAqC,SAAlC,iCAA8B,EAAA"}