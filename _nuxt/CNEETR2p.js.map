{"version":3,"file":"CNEETR2p.js","sources":["../../../../../../../pages/translate/[system]/[lang]/[key].vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n      <!-- Main content -->\n      <div class=\"translation-interface\">\n      <div class=\"header\">\n        <button @click=\"goBack\" class=\"back-button\">← Back to Overview</button>\n        <div class=\"header-info\">\n          <h1>{{ languageName }} Translation</h1>\n          <div class=\"progress-info\"> {{ currentIndex + 1 }} of {{ totalKeys }} strings </div>\n        </div>\n      </div>\n\n      <div class=\"navigation-bar\">\n        <button @click=\"navigateToPrevious\" :disabled=\"currentIndex === 0\" class=\"nav-button prev-button\">\n          ← Previous\n        </button>\n\n        <div class=\"key-info\">\n          <span class=\"catalogue-name\">{{ currentCatalogue }}</span>\n          <span class=\"key-separator\">•</span>\n          <span class=\"key-index\">{{ currentIndex + 1 }} / {{ totalKeys }}</span>\n        </div>\n\n        <button @click=\"navigateToNext\" :disabled=\"currentIndex === totalKeys - 1\" class=\"nav-button next-button\">\n          Next →\n        </button>\n      </div>\n\n      <div v-if=\"currentTranslation\" class=\"translation-content\">\n        <div class=\"translation-card\">\n          <div class=\"original-section\">\n            <div class=\"original-text\">{{ currentTranslation.original }}</div>\n          </div>\n\n          <div class=\"translation-section\">\n            <label class=\"section-label\" :for=\"`translation-${currentTranslation.id}`\">\n              {{ languageName }} Translation\n            </label>\n            <textarea\n              :id=\"`translation-${currentTranslation.id}`\"\n              v-model=\"currentTranslation.translation\"\n              @input=\"markAsModified\"\n              :placeholder=\"`Enter ${languageName} translation...`\"\n              class=\"translation-input\"\n              rows=\"4\"\n            ></textarea>\n\n            <div class=\"translation-tools\">\n              <button\n                @click=\"clearTranslation\"\n                class=\"tool-button clear-button\"\n                :disabled=\"!currentTranslation.translation\"\n              >\n                Clear\n              </button>\n              <button @click=\"copyOriginal\" class=\"tool-button copy-button\"> Copy Original </button>\n              <div class=\"status-indicator\">\n                <span v-if=\"currentTranslation.translated\" class=\"status-badge translated\"> ✓ Translated </span>\n                <span v-else class=\"status-badge untranslated\"> — Untranslated </span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"metadata-section\"> </div>\n        </div>\n      </div>\n\n      <div v-else class=\"no-translation\"> Translation not found. </div>\n      </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onUnmounted, computed, watch } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { useTranslationStore } from \"~/stores/translationStore\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst translationStore = useTranslationStore();\n\n// Route params\nconst systemId = computed(() => route.params.system as string);\nconst languageCode = computed(() => route.params.lang as string);\nconst currentKey = computed(() => route.params.key as string);\n\n// Translation data\nconst currentIndex = ref(0);\n\n// Computed properties from store\nconst allTranslations = computed(() => translationStore.translations);\nconst totalKeys = computed(() => allTranslations.value.length);\n\n// Current translation\nconst currentTranslation = computed(() => allTranslations.value[currentIndex.value]);\nconst currentCatalogue = computed(() => currentTranslation.value?.catalogue || \"\");\n\n// Language mapping\nconst languageName = computed(() => {\n  const languageNames: Record<string, string> = {\n    en: \"English\",\n    es: \"Spanish\",\n    fr: \"French\",\n    de: \"German\",\n    it: \"Italian\",\n    pt: \"Portuguese\",\n    ru: \"Russian\",\n    ja: \"Japanese\",\n    zh: \"Chinese\",\n  };\n  return languageNames[languageCode.value] || languageCode.value;\n});\n\nconst updateCurrentIndex = () => {\n  // Find the current translation by key\n  const decodedKey = decodeURIComponent(currentKey.value);\n  const keyIndex = allTranslations.value.findIndex((t) => t.key === decodedKey);\n  if (keyIndex !== -1) {\n    currentIndex.value = keyIndex;\n  } else {\n    // If key not found, default to first item\n    currentIndex.value = 0;\n  }\n};\n\n// Navigation methods\nconst navigateToPrevious = () => {\n  if (currentIndex.value > 0) {\n    const newIndex = currentIndex.value - 1;\n    navigateToIndex(newIndex);\n  }\n};\n\nconst navigateToNext = () => {\n  if (currentIndex.value < totalKeys.value - 1) {\n    const newIndex = currentIndex.value + 1;\n    navigateToIndex(newIndex);\n  }\n};\n\nconst navigateToIndex = (newIndex: number) => {\n  if (newIndex >= 0 && newIndex < totalKeys.value) {\n    currentIndex.value = newIndex;\n    const newKey = allTranslations.value[newIndex]?.key;\n    if (newKey && newKey !== currentKey.value) {\n      router.replace({\n        params: {\n          ...route.params,\n          key: encodeURIComponent(newKey),\n        },\n      });\n    }\n  }\n};\n\n// Translation methods\nconst markAsModified = () => {\n  if (currentTranslation.value) {\n    translationStore.updateTranslation(\n      currentTranslation.value.id,\n      currentTranslation.value.translation,\n      systemId.value,\n      languageCode.value\n    );\n  }\n};\n\nconst clearTranslation = () => {\n  if (currentTranslation.value) {\n    translationStore.updateTranslation(currentTranslation.value.id, \"\", systemId.value, languageCode.value);\n  }\n};\n\nconst copyOriginal = () => {\n  if (currentTranslation.value) {\n    translationStore.updateTranslation(\n      currentTranslation.value.id,\n      currentTranslation.value.original,\n      systemId.value,\n      languageCode.value\n    );\n  }\n};\n\nconst goBack = () => {\n  router.push(`/translate/${encodeURIComponent(systemId.value)}/${languageCode.value}`);\n};\n\n// Watch for route changes to update current index\nwatch(\n  () => currentKey.value,\n  (newKey) => {\n    if (newKey && allTranslations.value.length > 0) {\n      updateCurrentIndex();\n    }\n  }\n);\n\n// Watch for translation data changes to update index\nwatch(\n  () => allTranslations.value.length,\n  (newLength) => {\n    if (newLength > 0) {\n      updateCurrentIndex();\n    }\n  }\n);\n\n// Keyboard navigation\nconst handleKeyPress = (event: KeyboardEvent) => {\n  if (event.target && (event.target as HTMLElement).tagName === \"TEXTAREA\") {\n    return; // Don't interfere when typing in textarea\n  }\n\n  if (event.key === \"ArrowLeft\" && currentIndex.value > 0) {\n    navigateToPrevious();\n  } else if (event.key === \"ArrowRight\" && currentIndex.value < totalKeys.value - 1) {\n    navigateToNext();\n  }\n};\n\nonMounted(() => {\n  // Set initial index based on current key\n  updateCurrentIndex();\n  \n  // Add keyboard listeners\n  window.addEventListener(\"keydown\", handleKeyPress);\n});\n\n// Cleanup keyboard listeners\nonUnmounted(() => {\n  window.removeEventListener(\"keydown\", handleKeyPress);\n});\n</script>\n\n<style scoped>\n.container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.translation-interface {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.header {\n  background: #f8f9fa;\n  padding: 1rem 2rem;\n  border-bottom: 1px solid #dee2e6;\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n}\n\n.back-button {\n  padding: 0.5rem 1rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.back-button:hover {\n  background: #f0f0f0;\n}\n\n.header-info {\n  flex: 1;\n}\n\n.header-info h1 {\n  margin: 0 0 0.25rem 0;\n  font-size: 1.5rem;\n}\n\n.progress-info {\n  color: #666;\n  font-size: 0.875rem;\n}\n\n.navigation-bar {\n  background: #fff;\n  padding: 1rem 2rem;\n  border-bottom: 1px solid #dee2e6;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.nav-button {\n  padding: 0.75rem 1.5rem;\n  background: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n  min-width: 120px;\n}\n\n.nav-button:hover:not(:disabled) {\n  background: #0056b3;\n}\n\n.nav-button:disabled {\n  background: #6c757d;\n  cursor: not-allowed;\n}\n\n.key-info {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.catalogue-name {\n  font-weight: 600;\n  color: #333;\n}\n\n.key-separator {\n  color: #999;\n}\n\n.translation-content {\n  flex: 1;\n  padding: 2rem;\n  overflow-y: auto;\n}\n\n.translation-card {\n  background: #fff;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  padding: 2rem;\n  margin-bottom: 2rem;\n}\n\n.original-section,\n.translation-section {\n  margin-bottom: 2rem;\n}\n\n.section-label {\n  display: block;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: #333;\n}\n\n.original-text {\n  background: #f8f9fa;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  padding: 1rem;\n  font-size: 0.875rem;\n  line-height: 1.4;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n.translation-input {\n  width: calc(100% - 2rem - 2px);\n  padding: 1rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  font-family: inherit;\n  font-size: 0.875rem;\n  line-height: 1.4;\n  transition: border-color 0.2s, box-shadow 0.2s;\n  resize: vertical;\n  min-height: 80px;\n  white-space: pre-wrap;\n}\n\n.translation-input:focus {\n  outline: none;\n  border-color: #007bff;\n  box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.2);\n}\n\n.translation-tools {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 1rem;\n}\n\n.tool-button {\n  padding: 0.5rem 1rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.tool-button:hover:not(:disabled) {\n  background: #f8f9fa;\n}\n\n.tool-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.clear-button:hover:not(:disabled) {\n  border-color: #dc3545;\n  color: #dc3545;\n}\n\n.copy-button:hover:not(:disabled) {\n  border-color: #007bff;\n  color: #007bff;\n}\n\n.status-indicator {\n  margin-left: auto;\n}\n\n.status-badge {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n\n.status-badge.translated {\n  background: #d4edda;\n  color: #155724;\n}\n\n.status-badge.untranslated {\n  background: #f8d7da;\n  color: #721c24;\n}\n\n.metadata-section {\n  border-top: 1px solid #dee2e6;\n  padding-top: 1rem;\n  display: flex;\n  gap: 2rem;\n}\n\n.metadata-item {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.metadata-label {\n  font-weight: 600;\n  color: #666;\n}\n\n.metadata-value {\n  color: #333;\n  font-family: monospace;\n  background: #f8f9fa;\n  padding: 0.125rem 0.25rem;\n  border-radius: 2px;\n}\n\n.quick-nav {\n  background: #f8f9fa;\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  padding: 1.5rem;\n}\n\n.quick-nav h3 {\n  margin: 0 0 1rem 0;\n  font-size: 1rem;\n  color: #333;\n}\n\n.filter-buttons {\n  display: flex;\n  gap: 1rem;\n}\n\n.filter-button {\n  padding: 0.5rem 1rem;\n  background: #fff;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.filter-button:hover {\n  background: #e9ecef;\n  border-color: #adb5bd;\n}\n\n.no-translation {\n  text-align: center;\n  padding: 4rem 2rem;\n  color: #666;\n}\n</style>\n"],"names":["route","useRoute","router","useRouter","translationStore","useTranslationStore","systemId","computed","languageCode","currentKey","currentIndex","ref","allTranslations","totalKeys","currentTranslation","currentCatalogue","languageName","updateCurrentIndex","decodedKey","keyIndex","t","navigateToPrevious","newIndex","navigateToIndex","navigateToNext","newKey","markAsModified","clearTranslation","copyOriginal","goBack","watch","newLength","handleKeyPress","event","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_cache","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","$event","_vModelText","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24"],"mappings":"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"}