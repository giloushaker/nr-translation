{"version":3,"file":"BI_0-cbb.js","sources":["../../../../../../../components/ExportDialog.vue","../../../../../../../components/SubmitDialog.vue","../../../../../../../components/SyncDialog.vue","../../../../../../../pages/translate/[system]/[lang]/index.vue"],"sourcesContent":["<template>\n  <div v-if=\"show\" class=\"dialog-overlay\" @click.self=\"$emit('close')\">\n    <div class=\"dialog\">\n      <div class=\"dialog-header\">\n        <h2>Export Translations</h2>\n        <button @click=\"$emit('close')\" class=\"dialog-close\">×</button>\n      </div>\n      <div class=\"dialog-content\">\n        <p>Select export format:</p>\n        <div class=\"format-options\">\n          <label class=\"format-option\">\n            <input type=\"radio\" v-model=\"selectedFormat\" value=\"json\" />\n            <span>JSON (Full)</span>\n            <small>Complete translation data with metadata</small>\n          </label>\n          <label class=\"format-option\">\n            <input type=\"radio\" v-model=\"selectedFormat\" value=\"json-kv\" />\n            <span>JSON (Key-Value)</span>\n            <small>Simple key-value pairs format</small>\n          </label>\n          <label class=\"format-option\">\n            <input type=\"radio\" v-model=\"selectedFormat\" value=\"csv\" />\n            <span>CSV</span>\n            <small>Spreadsheet-compatible format</small>\n          </label>\n          <label class=\"format-option\">\n            <input type=\"radio\" v-model=\"selectedFormat\" value=\"po\" />\n            <span>PO (gettext)</span>\n            <small>GNU gettext format for translation tools</small>\n          </label>\n        </div>\n        <div class=\"export-options\">\n          <label class=\"checkbox-option\">\n            <input type=\"checkbox\" v-model=\"onlyTranslated\" :disabled=\"onlyUntranslated\" />\n            <span>Export only translated strings</span>\n          </label>\n          <label class=\"checkbox-option\">\n            <input type=\"checkbox\" v-model=\"onlyUntranslated\" :disabled=\"onlyTranslated\" />\n            <span>Export only untranslated strings</span>\n          </label>\n        </div>\n      </div>\n      <div class=\"dialog-footer\">\n        <button @click=\"$emit('close')\" class=\"dialog-button cancel\">Cancel</button>\n        <button @click=\"handleExport\" class=\"dialog-button primary\">Export</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, defineProps, defineEmits } from 'vue'\nimport type { ExportFormat } from '~/stores/translationStore'\n\ninterface Props {\n  show: boolean\n}\n\ninterface Emits {\n  (e: 'close'): void\n  (e: 'export', data: {\n    format: ExportFormat\n    onlyTranslated: boolean\n    onlyUntranslated: boolean\n  }): void\n}\n\ndefineProps<Props>()\nconst emit = defineEmits<Emits>()\n\nconst selectedFormat = ref<ExportFormat>('json')\nconst onlyTranslated = ref(false)\nconst onlyUntranslated = ref(false)\n\nconst handleExport = () => {\n  emit('export', {\n    format: selectedFormat.value,\n    onlyTranslated: onlyTranslated.value,\n    onlyUntranslated: onlyUntranslated.value\n  })\n}\n</script>\n\n<style scoped>\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.dialog {\n  background: white;\n  border-radius: 8px;\n  min-width: 500px;\n  max-width: 90vw;\n  max-height: 90vh;\n  overflow: hidden;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n}\n\n.dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid #dee2e6;\n}\n\n.dialog-header h2 {\n  margin: 0;\n  font-size: 1.25rem;\n}\n\n.dialog-close {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #6c757d;\n  padding: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.dialog-close:hover {\n  color: #495057;\n}\n\n.dialog-content {\n  padding: 1.5rem;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n\n.format-options {\n  margin: 1rem 0;\n}\n\n.format-option {\n  display: block;\n  margin-bottom: 1rem;\n  cursor: pointer;\n}\n\n.format-option input[type=\"radio\"] {\n  margin-right: 0.5rem;\n}\n\n.format-option span {\n  font-weight: 500;\n  margin-right: 0.5rem;\n}\n\n.format-option small {\n  display: block;\n  margin-left: 1.5rem;\n  color: #6c757d;\n  font-size: 0.8rem;\n}\n\n.export-options {\n  border-top: 1px solid #dee2e6;\n  padding-top: 1rem;\n  margin-top: 1rem;\n}\n\n.checkbox-option {\n  display: block;\n  margin-bottom: 0.5rem;\n  cursor: pointer;\n}\n\n.checkbox-option input[type=\"checkbox\"] {\n  margin-right: 0.5rem;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  padding: 1.5rem;\n  border-top: 1px solid #dee2e6;\n}\n\n.dialog-button {\n  padding: 0.5rem 1.25rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  background: white;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.dialog-button:hover {\n  background: #f8f9fa;\n}\n\n.dialog-button.cancel {\n  color: #6c757d;\n}\n\n.dialog-button.primary {\n  background: #007bff;\n  color: white;\n  border-color: #007bff;\n}\n\n.dialog-button.primary:hover {\n  background: #0056b3;\n  border-color: #0056b3;\n}\n</style>","<template>\n  <div v-if=\"show\" class=\"dialog-overlay\" @click.self=\"$emit('close')\">\n    <div class=\"dialog\">\n      <div class=\"dialog-header\">\n        <h2>Submit Translations</h2>\n        <button @click=\"$emit('close')\" class=\"dialog-close\">×</button>\n      </div>\n      <div class=\"dialog-content\">\n        <p>Submit translations to configured backend</p>\n        <div class=\"submit-options\">\n          <label class=\"checkbox-option\">\n            <input type=\"checkbox\" v-model=\"onlyModified\" />\n            <span>Submit only modified translations</span>\n            <small>Recommended to avoid overwriting unchanged translations</small>\n          </label>\n        </div>\n        <div v-if=\"isSubmitting\" class=\"submit-status\">\n          <p>Submitting translations...</p>\n        </div>\n      </div>\n      <div class=\"dialog-footer\">\n        <button @click=\"$emit('close')\" class=\"dialog-button cancel\">Cancel</button>\n        <button \n          @click=\"handleSubmit\" \n          class=\"dialog-button primary\"\n          :disabled=\"isSubmitting\"\n        >\n          {{ isSubmitting ? 'Submitting...' : 'Submit' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, defineProps, defineEmits } from 'vue'\n\ninterface Props {\n  show: boolean\n  isSubmitting: boolean\n}\n\ninterface Emits {\n  (e: 'close'): void\n  (e: 'submit', data: { onlyModified: boolean }): void\n}\n\ndefineProps<Props>()\nconst emit = defineEmits<Emits>()\n\nconst onlyModified = ref(true)\n\nconst handleSubmit = () => {\n  emit('submit', {\n    onlyModified: onlyModified.value\n  })\n}\n</script>\n\n<style scoped>\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.dialog {\n  background: white;\n  border-radius: 8px;\n  min-width: 500px;\n  max-width: 90vw;\n  max-height: 90vh;\n  overflow: hidden;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n}\n\n.dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid #dee2e6;\n}\n\n.dialog-header h2 {\n  margin: 0;\n  font-size: 1.25rem;\n}\n\n.dialog-close {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #6c757d;\n  padding: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.dialog-close:hover {\n  color: #495057;\n}\n\n.dialog-content {\n  padding: 1.5rem;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n\n.submit-options {\n  margin: 1rem 0;\n}\n\n.checkbox-option {\n  display: block;\n  margin-bottom: 0.75rem;\n  cursor: pointer;\n}\n\n.checkbox-option input[type=\"checkbox\"] {\n  margin-right: 0.5rem;\n}\n\n.checkbox-option span {\n  font-weight: 500;\n  margin-right: 0.5rem;\n}\n\n.checkbox-option small {\n  display: block;\n  margin-left: 1.5rem;\n  color: #6c757d;\n  font-size: 0.8rem;\n}\n\n.submit-status {\n  text-align: center;\n  padding: 1rem;\n  color: #28a745;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  padding: 1.5rem;\n  border-top: 1px solid #dee2e6;\n}\n\n.dialog-button {\n  padding: 0.5rem 1.25rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  background: white;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.dialog-button:hover {\n  background: #f8f9fa;\n}\n\n.dialog-button.cancel {\n  color: #6c757d;\n}\n\n.dialog-button.primary {\n  background: #007bff;\n  color: white;\n  border-color: #007bff;\n}\n\n.dialog-button.primary:hover {\n  background: #0056b3;\n  border-color: #0056b3;\n}\n\n.dialog-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n</style>","<template>\n  <div v-if=\"show\" class=\"dialog-overlay\" @click.self=\"$emit('close')\">\n    <div class=\"dialog\">\n      <div class=\"dialog-header\">\n        <h2>Sync Translations</h2>\n        <button @click=\"$emit('close')\" class=\"dialog-close\">×</button>\n      </div>\n      <div class=\"dialog-content\">\n        <div v-if=\"!canSync\">\n          <p><strong>No backend configured</strong></p>\n          <p>Select a translation file to import:</p>\n          <div class=\"file-input-section\">\n            <input \n              type=\"file\" \n              ref=\"fileInput\"\n              @change=\"handleFileSelect\"\n              accept=\".json,.po,.csv\"\n              class=\"file-input\"\n            />\n            <p class=\"file-help\">Supported formats: JSON, PO (gettext), CSV</p>\n            <div v-if=\"selectedFile\" class=\"selected-file\">\n              Selected: {{ selectedFile.name }}\n            </div>\n          </div>\n        </div>\n        \n        <div v-else>\n          <p>Backend configured and ready for sync</p>\n        </div>\n\n        <div v-if=\"syncConflicts.length > 0\" class=\"conflict-info\">\n          <p><strong>{{ syncConflicts.length }} conflicts detected</strong></p>\n          <p>Some translations have been modified both locally and on the server.</p>\n        </div>\n\n        <div v-if=\"selectedFile || canSync\" class=\"sync-options\">\n          <p>How would you like to handle conflicts?</p>\n          <label class=\"radio-option\">\n            <input type=\"radio\" v-model=\"syncStrategy\" value=\"server-wins\" />\n            <span>Import wins</span>\n            <small>Overwrite local changes with imported versions</small>\n          </label>\n          <label class=\"radio-option\">\n            <input type=\"radio\" v-model=\"syncStrategy\" value=\"client-wins\" />\n            <span>Keep local changes</span>\n            <small>Keep your local translations, ignore imported changes</small>\n          </label>\n          <label class=\"radio-option\">\n            <input type=\"radio\" v-model=\"syncStrategy\" value=\"ask-user\" />\n            <span>Ask me for each conflict</span>\n            <small>Show me each conflict and let me choose</small>\n          </label>\n        </div>\n\n        <div v-if=\"isSyncing\" class=\"sync-status\">\n          <p>{{ selectedFile ? 'Importing translations...' : 'Syncing translations...' }}</p>\n        </div>\n      </div>\n      <div class=\"dialog-footer\">\n        <button @click=\"$emit('close')\" class=\"dialog-button cancel\">Cancel</button>\n        <button \n          @click=\"handleSync\" \n          class=\"dialog-button primary\" \n          :disabled=\"isSyncing || (!selectedFile && !canSync)\"\n        >\n          {{ isSyncing ? (selectedFile ? \"Importing...\" : \"Syncing...\") : (selectedFile ? \"Import\" : \"Sync\") }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, defineProps, defineEmits } from 'vue'\n\ninterface Props {\n  show: boolean\n  syncConflicts: Array<{ key: string; original: string; local: string; server: string }>\n  selectedFile: File | null\n  isSyncing: boolean\n  canSync: boolean\n}\n\ninterface Emits {\n  (e: 'close'): void\n  (e: 'file-select', file: File): void\n  (e: 'sync', data: { \n    syncStrategy: 'server-wins' | 'client-wins' | 'ask-user'\n    selectedFile: File | null\n  }): void\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<Emits>()\n\nconst fileInput = ref<HTMLInputElement | null>(null)\nconst syncStrategy = ref<'server-wins' | 'client-wins' | 'ask-user'>('ask-user')\n\nconst handleFileSelect = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  if (target.files && target.files.length > 0) {\n    emit('file-select', target.files[0])\n  }\n}\n\nconst handleSync = () => {\n  emit('sync', {\n    syncStrategy: syncStrategy.value,\n    selectedFile: props.selectedFile\n  })\n}\n</script>\n\n<style scoped>\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.dialog {\n  background: white;\n  border-radius: 8px;\n  min-width: 500px;\n  max-width: 90vw;\n  max-height: 90vh;\n  overflow: hidden;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n}\n\n.dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid #dee2e6;\n}\n\n.dialog-header h2 {\n  margin: 0;\n  font-size: 1.25rem;\n}\n\n.dialog-close {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #6c757d;\n  padding: 0;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.dialog-close:hover {\n  color: #495057;\n}\n\n.dialog-content {\n  padding: 1.5rem;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n\n.file-input-section {\n  margin: 1rem 0;\n  padding: 1rem;\n  border: 2px dashed #dee2e6;\n  border-radius: 4px;\n  text-align: center;\n}\n\n.file-input {\n  margin: 0.5rem 0;\n  padding: 0.5rem;\n  width: 100%;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n}\n\n.file-help {\n  font-size: 0.875rem;\n  color: #6c757d;\n  margin: 0.5rem 0;\n}\n\n.selected-file {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: #e7f3ff;\n  border: 1px solid #b3d9ff;\n  border-radius: 4px;\n  font-weight: 500;\n  color: #0056b3;\n}\n\n.conflict-info {\n  background: #fff3cd;\n  border: 1px solid #ffeaa7;\n  border-radius: 4px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n}\n\n.conflict-info p {\n  margin: 0.5rem 0;\n}\n\n.sync-options {\n  margin: 1rem 0;\n}\n\n.sync-options p {\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n}\n\n.radio-option {\n  display: block;\n  margin-bottom: 0.75rem;\n  cursor: pointer;\n}\n\n.radio-option input[type=\"radio\"] {\n  margin-right: 0.5rem;\n}\n\n.radio-option span {\n  font-weight: 500;\n  margin-right: 0.5rem;\n}\n\n.radio-option small {\n  display: block;\n  margin-left: 1.5rem;\n  color: #6c757d;\n  font-size: 0.8rem;\n}\n\n.sync-status {\n  text-align: center;\n  padding: 1rem;\n  color: #17a2b8;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  padding: 1.5rem;\n  border-top: 1px solid #dee2e6;\n}\n\n.dialog-button {\n  padding: 0.5rem 1.25rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  background: white;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.dialog-button:hover {\n  background: #f8f9fa;\n}\n\n.dialog-button.cancel {\n  color: #6c757d;\n}\n\n.dialog-button.primary {\n  background: #007bff;\n  color: white;\n  border-color: #007bff;\n}\n\n.dialog-button.primary:hover {\n  background: #0056b3;\n  border-color: #0056b3;\n}\n\n.dialog-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n</style>","<template>\n  <div class=\"container\">\n\n    <!-- Export Dialog -->\n    <ExportDialog :show=\"showExportDialog\" @close=\"showExportDialog = false\" @export=\"handleExport\" />\n\n    <!-- Submit Dialog -->\n    <SubmitDialog\n      :show=\"showSubmitDialog\"\n      :is-submitting=\"isSubmitting\"\n      @close=\"showSubmitDialog = false\"\n      @submit=\"handleSubmit\"\n    />\n\n    <!-- Sync Dialog -->\n    <SyncDialog\n      :show=\"showSyncDialog\"\n      :sync-conflicts=\"syncConflicts\"\n      :selected-file=\"selectedFile\"\n      :is-syncing=\"isSyncing\"\n      :can-sync=\"canSync\"\n      @close=\"closeSyncDialog\"\n      @file-select=\"handleFileSelect\"\n      @sync=\"handleSyncSubmit\"\n    />\n\n    <!-- Main content -->\n    <div class=\"translation-interface\">\n      <div class=\"header\">\n        <button @click=\"goBack\" class=\"back-button\">← Back to Languages</button>\n        <h1>Translate to {{ languageName }}</h1>\n        <div class=\"header-stats\">\n          <span>{{ translatedCount }}/{{ totalStrings }} translated</span>\n        </div>\n        <div class=\"header-actions\">\n          <button\n            @click=\"showSyncDialog = true\"\n            class=\"sync-button\"\n            :title=\"canSync ? 'Sync translations from backend' : 'Import translations from file'\"\n          >\n            Sync Translations\n          </button>\n          <button\n            @click=\"showSubmitDialog = true\"\n            class=\"submit-button\"\n            :disabled=\"!canSubmit\"\n            :title=\"canSubmit ? 'Submit translations to backend' : 'No backend configured'\"\n          >\n            Submit Translations\n          </button>\n          <button @click=\"showExportDialog = true\" class=\"export-button\"> Export Translations </button>\n        </div>\n      </div>\n\n      <!-- Filter Controls -->\n      <div class=\"filter-controls\">\n        <div class=\"filter-group\">\n          <label for=\"filter-select\">Show:</label>\n          <select id=\"filter-select\" v-model=\"selectedFilter\" class=\"filter-select\">\n            <option value=\"all\">All Strings</option>\n            <option value=\"translated\">Translated Only</option>\n            <option value=\"untranslated\">Untranslated Only</option>\n            <option value=\"modified\">Modified Only</option>\n            <option value=\"untranslated-modified\">Untranslated + Modified</option>\n          </select>\n        </div>\n        <div class=\"filter-stats\">\n          <span class=\"filter-count\">{{ filteredCount }} of {{ totalStrings }} strings shown</span>\n        </div>\n      </div>\n\n      <div class=\"translation-content scrollable\">\n        <div class=\"hierarchy-container\">\n          <!-- System level -->\n          <div class=\"hierarchy-item system-level\">\n            <button class=\"hierarchy-toggle\" @click=\"toggleSystem\" :class=\"{ expanded: systemExpanded }\">\n              <span class=\"toggle-icon\">{{ systemExpanded ? \"▼\" : \"▶\" }}</span>\n              <span class=\"system-name\">{{ systemName }}</span>\n              <span class=\"item-count\">({{ systemStringCount }} strings)</span>\n            </button>\n\n            <!-- Catalogues -->\n            <div v-if=\"systemExpanded\" class=\"hierarchy-children\">\n              <div v-for=\"catalogue in filteredCatalogues\" :key=\"catalogue.id\" class=\"hierarchy-item catalogue-level\">\n                <button\n                  class=\"hierarchy-toggle\"\n                  @click=\"toggleCatalogue(catalogue.id)\"\n                  :class=\"{ expanded: expandedCatalogues.has(catalogue.id) }\"\n                >\n                  <span class=\"toggle-icon\">{{ expandedCatalogues.has(catalogue.id) ? \"▼\" : \"▶\" }}</span>\n                  <span class=\"catalogue-name\">{{ catalogue.name }}</span>\n                  <span class=\"item-count\">({{ catalogue.filteredStringCount }} of {{ catalogue.stringCount }} strings)</span>\n                </button>\n\n                <!-- Strings Table -->\n                <div v-if=\"expandedCatalogues.has(catalogue.id) && catalogue.filteredStrings.length > 0\" class=\"strings-table\">\n                  <div class=\"table-header\">\n                    <div class=\"col-original\">Original Text</div>\n                    <div class=\"col-translation\">Translation</div>\n                    <div class=\"col-status\">Status</div>\n                    <div class=\"col-actions\">Actions</div>\n                  </div>\n                  <div\n                    v-for=\"(string, index) in catalogue.filteredStrings\"\n                    :key=\"string.id\"\n                    class=\"table-row\"\n                    :class=\"{ translated: string.translated, modified: string.modified, 'row-even': index % 2 === 0 }\"\n                  >\n                    <div class=\"col-original\">\n                      <div class=\"original-text\">{{ string.original }}</div>\n                    </div>\n                    <div class=\"col-translation\">\n                      <textarea\n                        v-model=\"string.translation\"\n                        @input=\"markAsModified(string)\"\n                        :placeholder=\"`Enter ${languageName} translation...`\"\n                        class=\"translation-input\"\n                        rows=\"2\"\n                      ></textarea>\n                    </div>\n                    <div class=\"col-status\">\n                      <button\n                        @click=\"toggleTranslationStatus(string)\"\n                        class=\"status-toggle\"\n                        :class=\"{ translated: string.translated }\"\n                        :title=\"string.translated ? 'Mark as untranslated' : 'Mark as translated'\"\n                      >\n                        <span v-if=\"string.translated\" class=\"status-icon check\">✓</span>\n                        <span v-else class=\"status-icon cross\">✗</span>\n                      </button>\n                    </div>\n                    <div class=\"col-actions\">\n                      <button @click=\"editString(string)\" class=\"edit-button\" title=\"Edit individually\"> ✎ </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { useTranslationStore, type ExportFormat } from \"~/stores/translationStore\";\nimport ExportDialog from \"~/components/ExportDialog.vue\";\nimport SubmitDialog from \"~/components/SubmitDialog.vue\";\nimport SyncDialog from \"~/components/SyncDialog.vue\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst translationStore = useTranslationStore();\n\n\n// Hierarchy data\nconst systemExpanded = ref(true);\nconst expandedCatalogues = ref(new Set<string>());\n\n// Filter state\nconst selectedFilter = ref<string>('all');\nconst cachedFilteredCatalogues = ref<any[]>([]);\nconst cachedFilteredCount = ref<number>(0);\n\n// Dialog states\nconst showExportDialog = ref(false);\nconst showSubmitDialog = ref(false);\nconst showSyncDialog = ref(false);\nconst syncConflicts = ref<Array<{ key: string; original: string; local: string; server: string }>>([]);\nconst selectedFile = ref<File | null>(null);\n\n// Computed properties from store\nconst systemName = computed(() => translationStore.systemName);\nconst catalogues = computed(() => translationStore.catalogues);\nconst totalStrings = computed(() => translationStore.totalStrings);\nconst translatedCount = computed(() => translationStore.translatedCount);\nconst systemStringCount = computed(() => translationStore.systemStringCount);\n\n// Filter function\nconst filterString = (string: any, filterType: string) => {\n  switch (filterType) {\n    case 'translated':\n      return string.translated;\n    case 'untranslated':\n      return !string.translated;\n    case 'modified':\n      return string.modified;\n    case 'untranslated-modified':\n      return !string.translated || string.modified;\n    default:\n      return true;\n  }\n};\n\n// Apply filter function\nconst applyFilter = () => {\n  const filtered = catalogues.value.map(catalogue => {\n    const filteredStrings = catalogue.strings.filter(string => filterString(string, selectedFilter.value));\n    return {\n      ...catalogue,\n      filteredStrings,\n      filteredStringCount: filteredStrings.length\n    };\n  }).filter(catalogue => catalogue.filteredStringCount > 0);\n  \n  cachedFilteredCatalogues.value = filtered;\n  cachedFilteredCount.value = filtered.reduce((total, catalogue) => total + catalogue.filteredStringCount, 0);\n};\n\n// Computed properties that use cached values\nconst filteredCatalogues = computed(() => cachedFilteredCatalogues.value);\nconst filteredCount = computed(() => cachedFilteredCount.value);\n\n// Backend computed properties\nconst canSubmit = computed(() => translationStore.canSubmit);\nconst isSubmitting = computed(() => translationStore.isSubmitting);\nconst canSync = computed(() => translationStore.canSync);\nconst isSyncing = computed(() => translationStore.isSyncing);\n\n// Get language info from route\nconst languageCode = computed(() => route.params.lang as string);\nconst languageName = computed(() => {\n  const languageNames: Record<string, string> = {\n    en: \"English\",\n    es: \"Spanish\", \n    fr: \"French\",\n    de: \"German\",\n    it: \"Italian\",\n    pt: \"Portuguese\",\n    ru: \"Russian\",\n    ja: \"Japanese\",\n    zh: \"Chinese\",\n  };\n  return languageNames[languageCode.value] || languageCode.value;\n});\n\nconst goBack = () => {\n  const systemId = route.params.system as string;\n  router.push(`/languages/${encodeURIComponent(systemId)}`);\n};\n\n// Hierarchy toggle methods\nconst toggleSystem = () => {\n  systemExpanded.value = !systemExpanded.value;\n};\n\nconst toggleCatalogue = (catalogueId: string) => {\n  if (expandedCatalogues.value.has(catalogueId)) {\n    expandedCatalogues.value.delete(catalogueId);\n  } else {\n    expandedCatalogues.value.add(catalogueId);\n  }\n};\n\nconst markAsModified = (string: any) => {\n  translationStore.updateTranslation(string.id, string.translation, route.params.system as string, languageCode.value);\n};\n\nconst toggleTranslationStatus = (string: any) => {\n  // If currently translated, clear it. If not translated, copy original as translation\n  if (string.translated) {\n    translationStore.updateTranslation(string.id, \"\", route.params.system as string, languageCode.value);\n  } else {\n    translationStore.updateTranslation(string.id, string.original, route.params.system as string, languageCode.value);\n  }\n};\n\nconst editString = (string: any) => {\n  const systemId = route.params.system as string;\n  router.push(`/translate/${encodeURIComponent(systemId)}/${languageCode.value}/${encodeURIComponent(string.key)}`);\n};\n\nconst handleFileSelect = (file: File) => {\n  selectedFile.value = file;\n};\n\nconst closeSyncDialog = () => {\n  showSyncDialog.value = false;\n  selectedFile.value = null;\n  syncConflicts.value = [];\n};\n\nconst handleSyncSubmit = async (data: {\n  syncStrategy: \"server-wins\" | \"client-wins\" | \"ask-user\";\n  selectedFile: File | null;\n}) => {\n  try {\n    let result;\n\n    if (data.selectedFile) {\n      // Use file-based sync\n      result = await translationStore.syncFromFile(\n        data.selectedFile,\n        route.params.system as string,\n        languageCode.value,\n        data.syncStrategy\n      );\n    } else {\n      // Use backend sync\n      result = await translationStore.syncFromBackend(\n        route.params.system as string,\n        languageCode.value,\n        data.syncStrategy\n      );\n    }\n\n    if (result.conflicts.length > 0 && data.syncStrategy === \"ask-user\") {\n      syncConflicts.value = result.conflicts;\n      // Keep dialog open to show conflicts\n      return;\n    }\n\n    showSyncDialog.value = false;\n    syncConflicts.value = [];\n    selectedFile.value = null;\n\n    // Show success message\n    const message = data.selectedFile ? \"Translations imported successfully\" : \"Translations synced successfully\";\n    console.log(message);\n  } catch (error) {\n    console.error(\"Failed to sync translations:\", error);\n    alert(\"Failed to sync translations: \" + error.message);\n  }\n};\n\nconst handleSubmit = async (data: { onlyModified: boolean }) => {\n  try {\n    await translationStore.submitToBackend(route.params.system as string, languageCode.value, data.onlyModified);\n\n    showSubmitDialog.value = false;\n\n    // Show success message (you might want to add a toast/notification system)\n    console.log(\"Translations submitted successfully\");\n  } catch (error) {\n    console.error(\"Failed to submit translations:\", error);\n    // Show error message to user\n    alert(\"Failed to submit translations: \" + error.message);\n  }\n};\n\nconst handleExport = (data: { format: ExportFormat; onlyTranslated: boolean; onlyUntranslated: boolean }) => {\n  translationStore.downloadExport(\n    data.format,\n    languageCode.value,\n    languageName.value,\n    translationStore.systemName,\n    data.onlyTranslated,\n    data.onlyUntranslated\n  );\n\n  showExportDialog.value = false;\n};\n\n// Watch for filter changes\nwatch(selectedFilter, () => {\n  applyFilter();\n});\n\n// Watch for data changes (when translations are loaded or updated)\nwatch(catalogues, () => {\n  applyFilter();\n}, { deep: true });\n\n// Initialize filter on mount\nonMounted(() => {\n  applyFilter();\n});\n</script>\n\n<style scoped>\n.container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n/* Main interface */\n.translation-interface {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.header {\n  background: #f8f9fa;\n  padding: 1rem 2rem;\n  border-bottom: 1px solid #dee2e6;\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n}\n\n.back-button {\n  padding: 0.5rem 1rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.back-button:hover {\n  background: #f0f0f0;\n}\n\n.header h1 {\n  margin: 0;\n  font-size: 1.5rem;\n  flex: 1;\n}\n\n.header-stats {\n  color: #666;\n  font-size: 0.875rem;\n  flex: 1;\n}\n\n.header-actions {\n  display: flex;\n  gap: 0.5rem;\n  margin-left: auto;\n}\n\n.sync-button {\n  padding: 0.5rem 1rem;\n  background: #17a2b8;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.sync-button:hover:not(:disabled) {\n  background: #138496;\n}\n\n.sync-button:disabled {\n  background: #6c757d;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.submit-button {\n  padding: 0.5rem 1rem;\n  background: #28a745;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.submit-button:hover:not(:disabled) {\n  background: #218838;\n}\n\n.submit-button:disabled {\n  background: #6c757d;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.export-button {\n  padding: 0.5rem 1rem;\n  background: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.export-button:hover {\n  background: #0056b3;\n}\n\n/* Filter Controls */\n.filter-controls {\n  background: #f8f9fa;\n  padding: 1rem 2rem;\n  border-bottom: 1px solid #dee2e6;\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n}\n\n.filter-group {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.filter-group label {\n  font-weight: 500;\n  color: #495057;\n  font-size: 0.875rem;\n}\n\n.filter-select {\n  padding: 0.375rem 0.75rem;\n  border: 1px solid #ced4da;\n  border-radius: 4px;\n  background: white;\n  font-size: 0.875rem;\n  color: #495057;\n  cursor: pointer;\n  min-width: 160px;\n}\n\n.filter-select:focus {\n  outline: none;\n  border-color: #0066cc;\n  box-shadow: 0 0 0 2px rgba(0, 102, 204, 0.2);\n}\n\n.filter-stats {\n  margin-left: auto;\n  color: #6c757d;\n  font-size: 0.875rem;\n}\n\n.filter-count {\n  font-weight: 500;\n}\n\n.translation-content {\n  flex: 1;\n  padding: 2rem;\n  overflow-y: auto;\n}\n\n/* Hierarchy styles */\n.hierarchy-container {\n  padding: 1rem;\n}\n\n.hierarchy-item {\n  margin-bottom: 0.5rem;\n}\n\n.hierarchy-toggle {\n  width: 100%;\n  background: #f8f9fa;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  padding: 0.75rem 1rem;\n  text-align: left;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.hierarchy-toggle:hover {\n  background: #e9ecef;\n}\n\n.hierarchy-toggle.expanded {\n  background: #e7f3ff;\n  border-color: #0066cc;\n}\n\n.toggle-icon {\n  width: 16px;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.system-name {\n  font-weight: 600;\n  color: #333;\n  flex: 1;\n}\n\n.catalogue-name {\n  font-weight: 500;\n  color: #444;\n  flex: 1;\n}\n\n.item-count {\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.hierarchy-children {\n  margin-left: 1.5rem;\n  margin-top: 0.5rem;\n}\n\n.system-level .hierarchy-toggle {\n  background: #f0f8ff;\n  border-color: #0066cc;\n}\n\n.catalogue-level .hierarchy-toggle {\n  background: #f9f9f9;\n  border-color: #ccc;\n}\n\n/* Strings Table */\n.strings-table {\n  margin-left: 1.5rem;\n  margin-top: 0.5rem;\n  border: 1px solid #dee2e6;\n  border-radius: 6px;\n  overflow: hidden;\n  background: #fff;\n}\n\n.table-header {\n  display: grid;\n  grid-template-columns: 1fr 1fr 80px 60px;\n  background: #f8f9fa;\n  border-bottom: 2px solid #dee2e6;\n  font-weight: 600;\n  color: #495057;\n}\n\n.table-header > div {\n  padding: 0.75rem;\n  font-size: 0.875rem;\n}\n\n.table-row {\n  display: grid;\n  grid-template-columns: 1fr 1fr 80px 60px;\n  border-bottom: 1px solid #f0f0f0;\n  min-height: 60px;\n  align-items: stretch;\n  transition: background-color 0.2s;\n}\n\n.table-row:hover {\n  background: #f8f9fa;\n}\n\n.table-row.row-even {\n  background: #fafafa;\n}\n\n.table-row.row-even:hover {\n  background: #f0f0f0;\n}\n\n.table-row.translated {\n  border-left: 4px solid #28a745;\n}\n\n.table-row.modified {\n  border-left: 4px solid #ffc107;\n}\n\n.table-row.translated.modified {\n  border-left: 4px solid #17a2b8;\n}\n\n.table-row:last-child {\n  border-bottom: none;\n}\n\n.col-original,\n.col-translation {\n  padding: 0.5rem 0.75rem;\n  display: flex;\n  align-items: flex-start;\n}\n\n.col-status {\n  padding: 0.5rem 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.col-actions {\n  padding: 0.5rem 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.col-original {\n  border-right: 1px solid #f0f0f0;\n}\n\n.col-translation {\n  border-right: 1px solid #f0f0f0;\n}\n\n.col-status {\n  border-right: 1px solid #f0f0f0;\n}\n\n.edit-button {\n  background: #fff;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n  color: #007bff;\n}\n\n.edit-button:hover {\n  background: #f8f9fa;\n  border-color: #007bff;\n  color: #0056b3;\n}\n\n.original-text {\n  font-size: 0.875rem;\n  line-height: 1.4;\n  color: #333;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  white-space: pre-wrap;\n  width: 100%;\n}\n\n.translation-input {\n  width: 100%;\n  height: calc(100% - 1rem);\n  padding: 0.375rem 0.5rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  font-family: inherit;\n  font-size: 0.875rem;\n  line-height: 1.4;\n  transition: border-color 0.2s, box-shadow 0.2s;\n  resize: vertical;\n  min-height: 40px;\n  white-space: pre-wrap;\n}\n\n.translation-input:focus {\n  outline: none;\n  border-color: #0066cc;\n  box-shadow: 0 0 0 2px rgba(0, 102, 204, 0.2);\n}\n\n.translation-input::placeholder {\n  color: #999;\n}\n\n.status-toggle {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 4px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  transition: transform 0.2s;\n}\n\n.status-toggle:hover {\n  transform: scale(1.1);\n}\n\n.status-icon {\n  font-size: 1.25rem;\n  font-weight: bold;\n}\n\n.status-icon.check {\n  color: #28a745;\n}\n\n.status-icon.cross {\n  color: #dc3545;\n}\n</style>\n"],"names":["emit","__emit","selectedFormat","ref","onlyTranslated","onlyUntranslated","handleExport","show","_createElementBlock","$emit","_createElementVNode","_hoisted_1","_hoisted_2","_cache","_hoisted_3","_hoisted_4","_hoisted_5","$event","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_14","onlyModified","handleSubmit","isSubmitting","_openBlock","props","__props","fileInput","syncStrategy","handleFileSelect","event","target","handleSync","canSync","selectedFile","_toDisplayString","syncConflicts","_hoisted_11","isSyncing","_hoisted_13","_hoisted_15","route","useRoute","router","useRouter","translationStore","useTranslationStore","systemExpanded","expandedCatalogues","selectedFilter","cachedFilteredCatalogues","cachedFilteredCount","showExportDialog","showSubmitDialog","showSyncDialog","systemName","computed","catalogues","totalStrings","translatedCount","systemStringCount","filterString","string","filterType","applyFilter","filtered","catalogue","filteredStrings","total","filteredCatalogues","filteredCount","canSubmit","languageCode","languageName","goBack","systemId","toggleSystem","toggleCatalogue","catalogueId","markAsModified","toggleTranslationStatus","editString","file","closeSyncDialog","handleSyncSubmit","data","result","message","error","watch","onMounted","_createVNode","ExportDialog","SubmitDialog","SyncDialog","_normalizeClass","_hoisted_16","_hoisted_17","_hoisted_18","_Fragment","_renderList","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","index","_hoisted_24","_hoisted_25","_hoisted_26","_vModelText","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33"],"mappings":"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"}