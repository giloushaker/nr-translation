import{_ as d,x as s,z as o,A as u,y as n}from"./esT4bswo.js";const w={data(){return{loading:!0,error:null}},async mounted(){try{const t=new URLSearchParams(window.location.search),e=t.get("code"),r=t.get("state");if(!e)throw new Error("No authorization code received");const a=sessionStorage.getItem("github_oauth_state");if(r!==a)throw new Error("Invalid state parameter");window.opener&&(window.opener.postMessage({type:"github-oauth-success",code:e},window.location.origin),setTimeout(()=>{window.close()},2e3)),this.loading=!1}catch(t){this.error=t.message,this.loading=!1,window.opener&&window.opener.postMessage({type:"github-oauth-error",error:t.message},window.location.origin)}},methods:{closeWindow(){window.close()}}},h={class:"oauth-callback"},p={key:0,class:"loading"},g={key:1,class:"error"},m={key:2,class:"success"};function f(t,e,r,a,i,l){return n(),s("div",h,[i.loading?(n(),s("div",p,e[1]||(e[1]=[o("h2",null,"Authenticating with GitHub...",-1),o("p",null,"Please wait while we complete the login process.",-1)]))):i.error?(n(),s("div",g,[e[2]||(e[2]=o("h2",null,"Authentication Failed",-1)),o("p",null,u(i.error),1),o("button",{onClick:e[0]||(e[0]=(...c)=>l.closeWindow&&l.closeWindow(...c))},"Close Window")])):(n(),s("div",m,e[3]||(e[3]=[o("h2",null,"Authentication Successful!",-1),o("p",null,"You can now close this window.",-1)])))])}const y=d(w,[["render",f],["__scopeId","data-v-9494e1d8"]]);export{y as default};
//# sourceMappingURL=DR_nqobW.js.map
