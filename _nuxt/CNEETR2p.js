import{d as A,k as o,r as U,Q as C,o as B,X as K,x as c,z as a,A as l,O as P,P as $,I as O,J as S,y as d,_ as L}from"./PIpq5hpi.js";import{u as M}from"./Cz3oM3EE.js";const z={class:"container"},D={class:"translation-interface"},J={class:"header"},V={class:"header-info"},X={class:"progress-info"},j={class:"navigation-bar"},F=["disabled"],G={class:"key-info"},Q={class:"catalogue-name"},q={class:"key-index"},H=["disabled"],W={key:0,class:"translation-content"},Y={class:"translation-card"},Z={class:"original-section"},aa={class:"original-text"},ea={class:"translation-section"},ta=["for"],sa=["id","placeholder"],na={class:"translation-tools"},oa=["disabled"],la={class:"status-indicator"},ia={key:0,class:"status-badge translated"},ua={key:1,class:"status-badge untranslated"},ra={key:1,class:"no-translation"},ca=A({__name:"[key]",setup(da){const v=S(),m=O(),_=M(),p=o(()=>v.params.system),i=o(()=>v.params.lang),g=o(()=>v.params.key),s=U(0),u=o(()=>_.translations),r=o(()=>u.value.length),t=o(()=>u.value[s.value]),w=o(()=>t.value?.catalogue||""),h=o(()=>({en:"English",es:"Spanish",fr:"French",de:"German",it:"Italian",pt:"Portuguese",ru:"Russian",ja:"Japanese",zh:"Chinese"})[i.value]||i.value),f=()=>{const e=decodeURIComponent(g.value),n=u.value.findIndex(k=>k.key===e);n!==-1?s.value=n:s.value=0},y=()=>{if(s.value>0){const e=s.value-1;T(e)}},b=()=>{if(s.value<r.value-1){const e=s.value+1;T(e)}},T=e=>{if(e>=0&&e<r.value){s.value=e;const n=u.value[e]?.key;n&&n!==g.value&&m.replace({params:{...v.params,key:encodeURIComponent(n)}})}},I=()=>{t.value&&_.updateTranslation(t.value.id,t.value.translation,p.value,i.value)},R=()=>{t.value&&_.updateTranslation(t.value.id,"",p.value,i.value)},E=()=>{t.value&&_.updateTranslation(t.value.id,t.value.original,p.value,i.value)},N=()=>{m.push(`/translate/${encodeURIComponent(p.value)}/${i.value}`)};C(()=>g.value,e=>{e&&u.value.length>0&&f()}),C(()=>u.value.length,e=>{e>0&&f()});const x=e=>{e.target&&e.target.tagName==="TEXTAREA"||(e.key==="ArrowLeft"&&s.value>0?y():e.key==="ArrowRight"&&s.value<r.value-1&&b())};return B(()=>{f(),window.addEventListener("keydown",x)}),K(()=>{window.removeEventListener("keydown",x)}),(e,n)=>(d(),c("div",z,[a("div",D,[a("div",J,[a("button",{onClick:N,class:"back-button"},"← Back to Overview"),a("div",V,[a("h1",null,l(h.value)+" Translation",1),a("div",X,l(s.value+1)+" of "+l(r.value)+" strings ",1)])]),a("div",j,[a("button",{onClick:y,disabled:s.value===0,class:"nav-button prev-button"}," ← Previous ",8,F),a("div",G,[a("span",Q,l(w.value),1),n[1]||(n[1]=a("span",{class:"key-separator"},"•",-1)),a("span",q,l(s.value+1)+" / "+l(r.value),1)]),a("button",{onClick:b,disabled:s.value===r.value-1,class:"nav-button next-button"}," Next → ",8,H)]),t.value?(d(),c("div",W,[a("div",Y,[a("div",Z,[a("div",aa,l(t.value.original),1)]),a("div",ea,[a("label",{class:"section-label",for:`translation-${t.value.id}`},l(h.value)+" Translation ",9,ta),P(a("textarea",{id:`translation-${t.value.id}`,"onUpdate:modelValue":n[0]||(n[0]=k=>t.value.translation=k),onInput:I,placeholder:`Enter ${h.value} translation...`,class:"translation-input",rows:"4"},null,40,sa),[[$,t.value.translation]]),a("div",na,[a("button",{onClick:R,class:"tool-button clear-button",disabled:!t.value.translation}," Clear ",8,oa),a("button",{onClick:E,class:"tool-button copy-button"}," Copy Original "),a("div",la,[t.value.translated?(d(),c("span",ia," ✓ Translated ")):(d(),c("span",ua," — Untranslated "))])])]),n[2]||(n[2]=a("div",{class:"metadata-section"},null,-1))])])):(d(),c("div",ra," Translation not found. "))])]))}}),pa=L(ca,[["__scopeId","data-v-31c77e13"]]);export{pa as default};
//# sourceMappingURL=CNEETR2p.js.map
